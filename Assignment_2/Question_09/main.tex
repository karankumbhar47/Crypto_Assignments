%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \setmathfont{TeX Gyre Termes Math}
%Packages
\documentclass[10pt, a4paper]{article}
\usepackage[top=3cm, bottom=4cm, left=2cm, right=2cm]{geometry}
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd, fancyhdr, color, comment, graphicx, environ}
\usepackage{float}
\usepackage{booktabs}
\usepackage{pifont}
\usepackage{mathrsfs}
\usepackage[math-style=ISO]{unicode-math}
\usepackage{lastpage}
\usepackage[dvipsnames]{xcolor}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}
\usepackage{fancyhdr}
\usepackage{indentfirst}
\usepackage{listings}
\usepackage{sectsty}
\usepackage{thmtools}
\usepackage{shadethm}
\usepackage{hyperref}
\usepackage{setspace}
\usepackage{adjustbox}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{xcolor,colortbl}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Environment setup
\mdfsetup{skipabove=\topskip,skipbelow=\topskip}
\newrobustcmd\ExampleText{%
An \textit{inhomogeneous linear} differential equation has the form
\begin{align}
L[v ] = f,
\end{align}
where $L$ is a linear differential operator, $v$ is the dependent
variable, and $f$ is a given nonâˆ’zero function of the independent
variables alone.
}
\mdfdefinestyle{theoremstyle}{%
linecolor=black,linewidth=1pt,%
frametitlerule=true,%
frametitlebackgroundcolor=gray!20,
innertopmargin=\topskip,
}
\mdtheorem[style=theoremstyle]{Problem}{Question Number}
\setcounter{Problem}{8}
\newenvironment{Solution}{\textbf{Solution.}}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Fill in the appropriate information below
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}     
\newcommand\course{XXXX0000}                            % <-- course name   
\newcommand\hwnumber{0}                                 % <-- homework number
\newcommand\Information{Someone}                        % <-- personal information
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Page setup
\pagestyle{fancy}
\headheight 35pt
\lhead{\today \hspace*{4cm} Key-Breakers}
\rhead{\includegraphics[width=1.2cm]{../logo.png}}
\lfoot{}
\pagenumbering{arabic}
\cfoot{\small\thepage}
\rfoot{}
\headsep 1.2em
\renewcommand{\baselinestretch}{1.25}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Add new commands here
\renewcommand{\labelenumi}{\alph{enumi})}
\newcommand{\Z}{\mathbb Z}
\newcommand{\R}{\mathbb R}
\newcommand{\Q}{\mathbb Q}
\newcommand{\NN}{\mathbb N}
\newcommand{\PP}{\mathbb P}
\DeclareMathOperator{\Mod}{Mod} 
\renewcommand\lstlistingname{Algorithm}
\renewcommand\lstlistlistingname{Algorithms}
\def\lstlistingautorefname{Alg.}
\newtheorem*{theorem}{Theorem}
\newtheorem*{lemma}{Lemma}
\newtheorem{case}{Case}
\newcommand{\assign}{:=}
\newcommand{\infixiff}{\text{ iff }}
\newcommand{\nobracket}{}
\newcommand{\backassign}{=:}
\newcommand{\tmmathbf}[1]{\ensuremath{\boldsymbol{#1}}}
\newcommand{\tmop}[1]{\ensuremath{\operatorname{#1}}}
\newcommand{\tmtextbf}[1]{\text{{\bfseries{#1}}}}
\newcommand{\tmtextit}[1]{\text{{\itshape{#1}}}}

\newenvironment{itemizedot}{
    \begin{itemize} 
    \renewcommand{\labelitemi}{$\bullet$}
    \renewcommand{\labelitemii}{$\bullet$}
    \renewcommand{\labelitemiii}{$\bullet$}
    \renewcommand{\labelitemiv}{$\bullet$}}
    {\end{itemize}}

\catcode`\<=\active\def<{
\fontencoding{T1}\selectfont\symbol{60}\fontencoding{\encodingdefault}}
\catcode`\>=\active\def>{
\fontencoding{T1}\selectfont\symbol{62}\fontencoding{\encodingdefault}}
\catcode`\<=\active\def<{
\fontencoding{T1}\selectfont\symbol{60}\fontencoding{\encodingdefault}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Begin now!



\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Start the assignment now
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%New problem
\newpage
\begin{Problem}

You know that the best 4-round differential characteristic for Sypher004 has 4 active Sbox-
es. This can also be verified using \texttt{Gurobi}. What constraint should you add to your set of
constraints for Gurobi so that it reports more that 4 active Sbox-es in its solution? Verify this
and submit your \texttt{.lp} and \texttt{.sol} files.

\end{Problem}

\begin{Solution}

\begin{lstlisting}
    Minimize
    a_00 + a_01 + a_02 + a_03 + a_10 + a_11 + a_12 + a_13 + a_20 + a_21 + a_22 + a_23 + a_30 + a_31 + a_32 + a_33
    
    Subject To
    R0: x_00 + x_01 + x_02 + x_03 - a_00 >= 0
    R1: x_04 + x_05 + x_06 + x_07 - a_01 >= 0
    R2: x_08 + x_09 + x_0a + x_0b - a_02 >= 0
    R3: x_0c + x_0d + x_0e + x_0f - a_03 >= 0
    
    R4: x_10 + x_14 + x_18 + x_1c - a_10 >= 0
    R5: x_11 + x_15 + x_19 + x_1d - a_11 >= 0
    R6: x_12 + x_16 + x_1a + x_1e - a_12 >= 0
    R7: x_13 + x_17 + x_1b + x_1f - a_13 >= 0
    
    R8: x_20 + x_24 + x_28 + x_2c - a_20 >= 0
    R9: x_21 + x_25 + x_29 + x_2d - a_21 >= 0
    R10: x_22 + x_26 + x_2a + x_2e - a_22 >= 0
    R11: x_23 + x_27 + x_2b + x_2f - a_23 >= 0
    
    R12: x_30 + x_34 + x_38 + x_3c - a_30 >= 0
    R13: x_31 + x_35 + x_39 + x_3d - a_31 >= 0
    R14: x_32 + x_36 + x_3a + x_3e - a_32 >= 0
    R15: x_33 + x_37 + x_3b + x_3f - a_33 >= 0
    
    R16: x_00 - a_00 <= 0
    R17: x_01 - a_00 <= 0
    R18: x_02 - a_00 <= 0
    R19: x_03 - a_00 <= 0
    R20: x_04 - a_01 <= 0
    R21: x_05 - a_01 <= 0
    R22: x_06 - a_01 <= 0
    R23: x_07 - a_01 <= 0
    R24: x_08 - a_02 <= 0
    R25: x_09 - a_02 <= 0
    R26: x_0a - a_02 <= 0
    R27: x_0b - a_02 <= 0
    R28: x_0c - a_03 <= 0
    R29: x_0d - a_03 <= 0
    R30: x_0e - a_03 <= 0
    R31: x_0f - a_03 <= 0
    
    R32: x_10 - a_10 <= 0
    R33: x_14 - a_10 <= 0
    R34: x_18 - a_10 <= 0
    R35: x_1c - a_10 <= 0
    R36: x_11 - a_11 <= 0
    R37: x_15 - a_11 <= 0
    R38: x_19 - a_11 <= 0
    R39: x_1d - a_11 <= 0
    R40: x_12 - a_12 <= 0
    R41: x_16 - a_12 <= 0
    R42: x_1a - a_12 <= 0
    R43: x_1e - a_12 <= 0
    R44: x_13 - a_13 <= 0
    R45: x_17 - a_13 <= 0
    R44: x_1b - a_13 <= 0
    R44: x_1f - a_13 <= 0
    
    R45: x_20 - a_20 <= 0
    R46: x_24 - a_20 <= 0
    R47: x_28 - a_20 <= 0
    R48: x_2c - a_20 <= 0
    R49: x_21 - a_21 <= 0
    R50: x_25 - a_21 <= 0
    R51: x_29 - a_21 <= 0
    R52: x_2d - a_21 <= 0
    R53: x_22 - a_22 <= 0
    R54: x_26 - a_22 <= 0
    R55: x_2a - a_22 <= 0
    R56: x_2e - a_22 <= 0
    R57: x_23 - a_23 <= 0
    R58: x_27 - a_23 <= 0
    R59: x_2b - a_23 <= 0
    R60: x_2f - a_23 <= 0
    
    R61: x_30 - a_30 <= 0
    R62: x_34 - a_30 <= 0
    R63: x_38 - a_30 <= 0
    R64: x_3c - a_30 <= 0
    R65: x_31 - a_31 <= 0
    R66: x_35 - a_31 <= 0
    R67: x_39 - a_31 <= 0
    R68: x_3d - a_31 <= 0
    R69: x_32 - a_32 <= 0
    R70: x_36 - a_32 <= 0
    R71: x_3a - a_32 <= 0
    R72: x_3e - a_32 <= 0
    R73: x_33 - a_33 <= 0
    R74: x_37 - a_33 <= 0
    R75: x_3b - a_33 <= 0
    R77: x_3f - a_33 <= 0
    
    
    R78: 4 x_10 + 4 x_11 + 4 x_12 + 4 x_13 - x_00 - x_01 - x_02 - x_03 >= 0
    R79: 4 x_00 + 4 x_01 + 4 x_02 + 4 x_03 - x_10 - x_11 - x_12 - x_13 >= 0
    
    R80: 4 x_14 + 4 x_15 + 4 x_16 + 4 x_17 - x_04 - x_05 - x_06 - x_07 >= 0
    R81: 4 x_04 + 4 x_05 + 4 x_06 + 4 x-07 - x_14 - x_15 - x_16 - x_17 >= 0
    
    R82: 4 x_18 + 4 x_19 + 4 x_1a + 4 x_1b - x_08 - x_09 - x_0a - x_0b >= 0
    R83: 4 x_08 + 4 x_09 + 4 x_0a + 4 x_0b - x_18 - x_19 - x_1a - x_1b >= 0
    
    R84: 4 x_1c + 4 x_1d + 4 x_1e + 4 x_1f - x_0c - x_0d - x_0e - x_0f >= 0
    R85: 4 x_0c + 4 x_0d + 4 x_0e + 4 x_0f - x_1c + x_1d + x_1e + x_1f >= 0
    
    
    R86: 4 x_10 + 4 x_14 + 4 x_18 + 4 x_1c - x_20 - x_21 - x_22 - x_23 >= 0
    R87: 4 x_20 + 4 x_21 + 4 x_22 + 4 x_23 - x_10 - x_14 - x_18 - x_1c >= 0
    
    R88: 4 x_11 + 4 x_15 + 4 x_19 + 4 x_1d - x_24 - x_25 - x_26 - x_27 >= 0
    R89: 4 x_24 + 4 x_25 + 4 x_26 + 4 x_27 - x_11 - x_15 - x_19 - x_1d >= 0
    
    R90: 4 x_12 + 4 x_16 + 4 x_1a + 4 x_1e - x_28 - x_29 - x_2a - x_2b >= 0
    R91: 4 x_28 + 4 x_29 + 4 x_2a + 4 x_2b - x_12 - x_16 - x_1a - x_1e >= 0
    
    R92: 4 x_13 + 4 x_17 + 4 x_1b + 4 x_1f - x_2c - x_2d - x_2e - x_2f >= 0
    R93: 4 x_2c + 4 x_2d + 4 x_2e + 4 x_2f - x_13 - x_17 - x_1b - x_1f >= 0
    
    
    
    R94: 4 x_30 + 4 x_31 + 4 x_32 + 4 x_33 - x_20 - x_24 - x_28 - x_2c >= 0
    R95: 4 x_20 + 4 x_24 + 4 x_28 + 4 x_2c - x_30 - x_31 - x_32 - x_33 >= 0
    
    R96: 4 x_34 + 4 x_35 + 4 x_36 + 4 x_37 - x_21 - x_25 - x_29 - x_2d >= 0
    R97: 4 x_21 + 4 x_25 + 4 x_29 + 4 x_2d - x_34 - x_35 - x_36 - x_37 >= 0
    
    R98: 4 x_38 + 4 x_39 + 4 x_3a + 4 x_3b - x_22 - x_26 - x_2a - x_2e >= 0
    R99: 4 x_22 + 4 x_26 + 4 x_2a + 4 x_2e - x_38 - x_39 - x_3a - x_3b >= 0
    
    R100: 4 x_3c + 4 x_3d + 4 x_3e + 4 x_3f - x_23 - x_27 - x_2b - x_2f >= 0
    R101: 4 x_23 + 4 x_27 + 4 x_2b + 4 x_2f - x_3c - x_3d - x_3e - x_3f >= 0
    
    
    
    
    R102: 4 x_40 + 4 x_41 + 4 x_42 + 4 x_43 - x_30 - x_34 - x_38 - x_3c >= 0
    R103: 4 x_30 + 4 x_34 + 4 x_38 + 4 x_3c - x_40 - x_41 - x_42 - x_43 >= 0
    
    R104: 4 x_44 + 4 x_45 + 4 x_46 + 4 x_47 - x_31 - x_35 - x_39 - x_3d >= 0
    R105: 4 x_31 + 4 x_35 + 4 x_39 + 4 x_3d - x_44 - x_45 - x_46 - x_47 >= 0
    
    R106: 4 x_48 + 4 x_49 + 4 x_4a + 4 x_4b - x_32 - x_36 - x_3a - x_3e >= 0
    R107: 4 x_32 + 4 x_36 + 4 x_3a + 4 x_3e - x_48 - x_49 - x_4a - x_4b >= 0
    
    R108: 4 x_4c + 4 x_4d + 4 x_4e + 4 x_4f - x_33 - x_37 - x_3b - x_3f >= 0
    R109: 4 x_33 + 4 x_37 + 4 x_3a + 4 x_3f - x_4c - x_4d - x_4e - x_4f >= 0
    
    R110: a_00 + a_01 + a_02 + a_03 + a_10 + a_11 + a_12 + a_13 + a_20 + a_21 + a_22 + a_23 + a_30 + a_31 + a_32 + a_33 >= 5
    
    Bounds
    Binaries
    a_00 a_01 a_02 a_03 a_10 a_11 a_12 a_13 a_20 a_21 a_22 a_23 a_30 a_31 a_32 a_33 x_00 x_01 x_02 x_03 x_04 x_05 x_06 x_07 x_08 x_09 x_0a x_0b x_0c x_0d x_0e x_0f x_10 x_11 x_12 x_13 x_14 x_15 x_16 x_17 x_18 x_19 x_1a x_1b x_1c x_1d x_1e x_1f x_20 x_21 x_22 x_23 x_24 x_25 x_26 x_27 x_28 x_29 x_2a x_2b x_2c x_2d x_2e x_2f x_30 x_31 x_32 x_33 x_34 x_35 x_36 x_37 x_38 x_39 x_3a x_3b x_3c x_3d x_3e x_3f x_40 x_41 x_42 x_43 x_44 x_45 x_46 x_47 x_48 x_49 x_4a x_4b x_4c x_4d x_4e x_4f 
    
    Generals
    a_00 a_01 a_02 a_03 a_10 a_11 a_12 a_13 a_20 a_21 a_22 a_23 a_30 a_31 a_32 a_33
    End
    

\end{lstlisting}

\textbf{Output}

\begin{lstlisting}
    # Objective value = 5
    a_00 0
    a_01 1
    a_02 1
    a_03 0
    a_10 0
    a_11 0
    a_12 0
    a_13 1
    a_20 0
    a_21 1
    a_22 0
    a_23 0
    a_30 0
    a_31 0
    a_32 1
    a_33 0
    x_00 0
    x_01 0
    x_02 0
    x_03 0
    x_04 0
    x_05 1
    x_06 0
    x_07 0
    x_08 0
    x_09 0
    x_0a 1
    x_0b 0
    x_0c 0
    x_0d 0
    x_0e 0
    x_0f 0
    x_10 0
    x_14 0
    x_18 0
    x_1c 0
    x_11 0
    x_15 0
    x_19 0
    x_1d 0
    x_12 0
    x_16 0
    x_1a 0
    x_1e 0
    x_13 0
    x_17 1
    x_1b 1
    x_1f 1
    x_20 0
    x_24 0
    x_28 0
    x_2c 0
    x_21 0
    x_25 0
    x_29 0
    x_2d 1
    x_22 0
    x_26 0
    x_2a 0
    x_2e 0
    x_23 0
    x_27 0
    x_2b 0
    x_2f 0
    x_30 0
    x_34 0
    x_38 0
    x_3c 0
    x_31 0
    x_35 0
    x_39 0
    x_3d 0
    x_32 0
    x_36 1
    x_3a 0
    x_3e 0
    x_33 0
    x_37 0
    x_3b 0
    x_3f 0
    x-07 0
    x_40 0
    x_41 0
    x_42 0
    x_43 0
    x_44 0
    x_45 0
    x_46 0
    x_47 0
    x_48 0
    x_49 0
    x_4a 1
    x_4b 0
    x_4c 0
    x_4d 0
    x_4e 0
    x_4f 0
    
\end{lstlisting}

\end{Solution}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Complete the assignment now
\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%